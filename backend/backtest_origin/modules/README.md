# èšå®½å›æµ‹å¹³å° - æ¨¡å—æ€»è§ˆ ğŸ—ï¸

## ğŸ”„ å›æµ‹æµç¨‹ä¸æ¨¡å—å¯¹åº”å…³ç³»

ç”¨æˆ·è¯·æ±‚ â†’ 1ï¸âƒ£ ç­–ç•¥ç¼–è¯‘ â†’ 2ï¸âƒ£ æ•°æ®åŠ è½½ â†’ 3ï¸âƒ£ å›æµ‹æ‰§è¡Œ â†’ 4ï¸âƒ£ ç»“æœå¤„ç† â†’ è¿”å›ç»“æœ
â†“ â†“ â†“ â†“  
 1_strategy 2_data 3_backtest 4_result
\_compile \_loader \_engine \_processor

## ğŸ“ æ¨¡å—ç›®å½•ç»“æ„

- **[1_strategy_compile/](./1_strategy_compile/)** - ç­–ç•¥ç¼–è¯‘æ¨¡å—

  - å°†ç”¨æˆ·ç­–ç•¥ä»£ç ç¼–è¯‘ä¸º Backtrader ç­–ç•¥ç±»
  - æä¾›å®Œæ•´èšå®½ API å…¼å®¹å±‚ (15-20 ä¸ªå‡½æ•°ï¼šæ•°æ®è·å–ã€äº¤æ˜“ä¸‹å•ã€è°ƒåº¦å™¨ç­‰)

- **[2_data_loader/](./2_data_loader/)** - æ•°æ®åŠ è½½æ¨¡å—

  - ä» CSV æ–‡ä»¶åŠ è½½å†å²è¡Œæƒ…æ•°æ®
  - åˆ†é’Ÿæ•°æ®ç¼“å­˜ç®¡ç†

- **[3_backtest_engine/](./3_backtest_engine/)** - å›æµ‹æ‰§è¡Œæ¨¡å—

  - å›æµ‹å¼•æ“æ ¸å¿ƒé€»è¾‘
  - å®šæ—¶è°ƒåº¦å™¨ (run_daily/weekly ç­‰)

- **[4_result_processor/](./4_result_processor/)** - ç»“æœå¤„ç†æ¨¡å—

  - è®¡ç®—å›æµ‹æŒ‡æ ‡ (æ”¶ç›Šç‡ã€å¤æ™®æ¯”ç‡ç­‰)
  - ç”Ÿæˆæ ¼å¼åŒ–æŠ¥å‘Š

- **[utils/](./utils/)** - é€šç”¨å·¥å…·æ¨¡å—
  - æ•°æ®å¤„ç†ã€æ•°å­¦è®¡ç®—ç­‰å·¥å…·å‡½æ•°

## ğŸš€ å¿«é€Ÿå¼€å§‹

```python
# å¯¼å…¥æ‰€æœ‰æ¨¡å—åŠŸèƒ½
from modules import (
    compile_user_strategy,    # 1ï¸âƒ£ ç­–ç•¥ç¼–è¯‘
    BacktestEngine,          # 3ï¸âƒ£ å›æµ‹æ‰§è¡Œ
    format_results           # 4ï¸âƒ£ ç»“æœå¤„ç†
)

# ä½¿ç”¨ç¤ºä¾‹
strategy_class, jq_state = compile_user_strategy(user_code)
engine = BacktestEngine()
result = engine.run_backtest(symbol, start, end, strategy_class)
formatted_result = format_results(result)
```

## ğŸ’¡ è®¾è®¡ç†å¿µ

- **ç¼–å·å³æµç¨‹**ï¼š1-4 å¯¹åº”å›æµ‹çš„ 4 ä¸ªæ ¸å¿ƒæ­¥éª¤
- **åŠŸèƒ½å•ä¸€**ï¼šæ¯ä¸ªæ¨¡å—èŒè´£æ˜ç¡®ï¼Œæ˜“äºç†è§£å’Œç»´æŠ¤
- **å¯¼å…¥ç®€å•**ï¼šç»Ÿä¸€å…¥å£ï¼Œæ— éœ€è®°å¿†å¤æ‚çš„å¯¼å…¥è·¯å¾„
- **æ–‡æ¡£å®Œæ•´**ï¼šæ¯ä¸ªæ¨¡å—éƒ½æœ‰è¯¦ç»†çš„ README è¯´æ˜
